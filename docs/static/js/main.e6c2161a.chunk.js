(this.webpackJsonpghrepos=this.webpackJsonpghrepos||[]).push([[0],{65:function(e,n,t){e.exports=t(78)},77:function(e,n,t){},78:function(e,n,t){"use strict";t.r(n);var r=t(2),a=t.n(r),o=t(53),u=t.n(o),c=t(54),i=t(55),l=t(63),s=t(64),m=function(e){Object(s.a)(t,e);var n=Object(l.a)(t);function t(e){var r;return Object(c.a)(this,t),(r=n.call(this,e)).state={hasError:!1},r}return Object(i.a)(t,[{key:"componentDidCatch",value:function(e,n){console.error("ErrorBoundary caught an error",e,n)}},{key:"render",value:function(){return this.state.hasError?a.a.createElement("h1",null,"Something went wrong."):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(r.Component),f=t(16),d=t(1),p=new f.ApolloClient({link:Object(f.createHttpLink)({uri:"https://api.github.com/graphql",headers:{authorization:"Bearer ".concat("dcd9dd9ee09ec4c97e0b69457c1173b7b6196ec7")}}),cache:new f.InMemoryCache({typePolicies:{Query:{fields:{search:Object(d.H)(["query"])}}}})}),h=t(37),g=t(17);function b(){var e=Object(g.a)(["\n  query($search: String!, $size: Int, $cursor: String) {\n    search(query: $search, type: REPOSITORY, first: $size, after: $cursor) {\n      repositoryCount\n      edges {\n        node {\n          ... on Repository {\n            url\n            nameWithOwner\n            description\n            stargazers {\n              totalCount\n            }\n            forks {\n              totalCount\n            }\n          }\n        }\n      }\n      pageInfo {\n        endCursor\n        hasNextPage\n      }\n    }\n  }\n"]);return b=function(){return e},e}var v=Object(f.gql)(b()),E={description:"",forks:{totalCount:0},nameWithOwner:"",stargazers:{totalCount:0},url:""},O=function(e){var n=e.node;return{description:(n=void 0===n?E:n).description,forkCount:n.forks.totalCount,name:n.nameWithOwner,starCount:n.stargazers.totalCount,url:n.url}},y=t(20);function C(){var e=Object(g.a)(["\n  margin: 1rem;\n"]);return C=function(){return e},e}var j=y.a.div(C());function k(){var e=Object(g.a)(["\n  display: flex;\n  justify-content: space-between;\n\n  margin: 1rem;\n  max-width: 36rem;\n"]);return k=function(){return e},e}function w(){var e=Object(g.a)(["\n  flex: 5 0 0;\n"]);return w=function(){return e},e}function S(){var e=Object(g.a)(["\n  flex: 1 0 0;\n"]);return S=function(){return e},e}var x=y.a.span(S()),z=y.a.span(w()),I=y.a.div(k());function N(){var e=Object(g.a)(["\n  background: white;\n  padding: 0.5rem 1rem;\n  position: sticky;\n  top: 0;\n"]);return N=function(){return e},e}var $=y.a.div(N()),q=function(e){var n=e.description,t=e.forkCount,r=e.name,o=e.starCount,u=e.url;return a.a.createElement(I,null,a.a.createElement(z,null,a.a.createElement("a",{title:n,href:u,target:"_blank",rel:"noopener noreferrer"},"@",r)),a.a.createElement(x,null,a.a.createElement("span",{role:"img","aria-label":"star"},"\ud83c\udf1f")," ",o),a.a.createElement(x,null,a.a.createElement("span",{role:"img","aria-label":"fork"},"\ud83c\udf74")," ",t))},P=function(e){var n=e.items;return a.a.createElement("div",null,n.map((function(e){return a.a.createElement(q,Object.assign({},e,{key:e.name}))})))},M=t(62),T=function(e){var n=e.defaultValue,t=e.inputType,o=e.onChange,u=Object(r.useCallback)(Object(M.debounce)((function(e){return o&&o(e)}),200),[]);return a.a.createElement("input",{defaultValue:n,onChange:function(e){u(e.currentTarget.value)},type:t})},V=function(){var e=Object(r.useState)("react"),n=Object(h.a)(e,2),t=n[0],o=n[1],u=Object(r.useState)("10000"),c=Object(h.a)(u,2),i=c[0],l=c[1],s=Object(f.useQuery)(v,{variables:{search:"".concat(t," stars:>").concat(i),size:10},notifyOnNetworkStatusChange:!0}),m=s.loading,d=s.error,p=s.data,g=s.fetchMore,b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.search,t=(n=void 0===n?{}:n).edges,r=void 0===t?[]:t,a=n.pageInfo,o=(a=void 0===a?{}:a).endCursor,u=void 0===o?"":o,c=a.hasNextPage,i=void 0!==c&&c;return{cursor:u,hasNext:i,isEmpty:0===r.length,items:r.map(O)||[]}}(p),E=b.cursor,y=b.isEmpty,C=b.hasNext,k=b.items;return a.a.createElement(a.a.Fragment,null,a.a.createElement($,null,"Search: ",a.a.createElement(T,{defaultValue:t,onChange:o})," with"," ",a.a.createElement(T,{defaultValue:i,onChange:l,inputType:"number"})," ","stars"),d?a.a.createElement("p",null,"Query error :("):a.a.createElement(a.a.Fragment,null,y&&!m?a.a.createElement(I,null,"No results"):a.a.createElement(P,{items:k}),a.a.createElement(j,null,m?"Loading repos...":C&&a.a.createElement("button",{onClick:function(){return g({variables:{cursor:E}})}},"More"))))},B=function(){return a.a.createElement(m,null,a.a.createElement(f.ApolloProvider,{client:p},a.a.createElement(V,null)))};t(77);u.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(B,null)),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.e6c2161a.chunk.js.map